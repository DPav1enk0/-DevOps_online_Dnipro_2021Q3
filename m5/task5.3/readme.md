# Linux Administration #

 ![](https://www.opennet.ru/docs/RUS/lnx_process/p2.png)
1. Над процессами можно производить следующие операции:

* Создание процесса - это переход из состояния рождения в состояние готовности
* Уничтожение процесса - это переход из состояния выполнения в состояние смерти
* Восстановление процесса - переход из состояния готовности в состояние выполнения
* Изменение приоритета процесса - переход из выполнения в готовность
* Блокирование процесса - переход в состояние ожидания из состояния выполнения
* Пробуждение процесса - переход из состояния ожидания в состояние готовности
* Запуск процесса (или его выбор) - переход из состояния готовности в состояние выполнения

2. **proc** - псевдофайловая система информации о процессе
ОПИСАНИЕ Файловая система proc - это псевдофайловая система, которая обеспечивает интерфейс для структур данных ядра. Обычно он монтируется в / proc.

3. Определение процессов
* Идентификатор процесса (PID).
Каждому новому процессу ядро  присваивает уникальный идентификационный номер. В
любой момент времени идентификатор процесса является уникальным, хотя после
завершения процесса он может использоваться снова для другого процесса.
Некоторые идентификаторы зарезервированы системой для особых процессов. Так,
процесс с идентификатором 1 - это процесс инициализации init, являющийся предком
всех других процессов в системе.
* Идентификатор родительского процесса (PPID).
Новый процесс создается путем клонирования одного из уже существующих процессов.
Исходный процесс в терминологии UNIX называется родительским, а его клон -
порожденным. Помимо собственного идентификатора, каждый процесс имеет атрибут
PPID, т.е. идентификатор своего родительского процесса.
* Идентификатор владельца (UID) и эффективный идентификатор владельца.
UID - это идентификационный номер пользователя, который создал данный процесс.
Вносить изменения в процесс могут только его создатель и привилегированный
пользователь. EUID - это "эффективный" UID процесса. EUID используется для того,
чтобы определить, к каким ресурсам и файлам у процесса есть право доступа. У
большинства процессов UID и EUID будут одинаковыми. Исключение составляют
программы, у которых установлен бит смены идентификатора пользователя.

 


|USER | PID | %CPU | %MEM | VSZ | RSS | TTY | STAT | START TIME | COMMAND |
|:---:|:---:| -----| ---- | --- | --- |---- | ---- | --------- |-------- | 
|root | 11  | 0.0  | 0.0  |  0  |  0  |  ?  | 13:11|    0:00 | [migration/2]* | 

* Kernel процессы отображаются в квадратных скобках 

4. top отображение
* USER - имя пользователя, от имени которого выполняется процесс;
* PR - приоритет планировщика, установленный для процесса;
* NI - рекомендуемый приоритет процесса. Это значение можно менять, может не совпадать с реальным приоритетом планировщика;
* VIRT - всё, что находится в памяти, используется или зарезервировано для использования;
* RES - всё, что находится в оперативной памяти и относится к процессу. Расшифровывается как Resident Memory Size, указывается в килобайтах;
* SHR - часть памяти из RES, которую занимают ресурсы, доступные для использования другим процессам. Расшифровывается - Shared Memory Size.
* S - состояние процесса: D - ожидает завершения операции, R - запущен, S - спит, T - остановлен, t - остановлен отладчиком, Z - зомби
* %CPU - процент использования ресурсов процессора;
* %MEM - процент использования ресурсов оперативной памяти на основе колонки RES;
* TIME - обще процессорное время, которое процесс использовал с момента запуска;
* COMAND - команда, с помощью которой был запущен процесс.

5. Усиление безопасности SSH
* PermitRootLogin
Этот параметр устанавливает разрешение на вход в систему как root пользователь. Для повышения безопасности соединения рекомендуется отключить такую возможность, т.е. изменить установленное в файле значение “Yes” на “No”:* 
* Port
Чтобы усложнить задачу хакерам, стоит позаботиться о хорошей маскировки своего ssh-порта.* 
* Login GraceTime
По умолчанию, при подключении к серверу по ssh у пользователя есть 2 минуты для ввода логина и пароля. Такого промежутка более чем достаточно, причем не только для авторизованного пользователя, но и для хакера. Поэтому время ожидания ввода этих данных стоит ограничить до 30-60 секунд, в зависимости от ваших предпочтений.* 
* PubkeyAuthentication yes
Разрешаем аутентификацию по ключам SSH. Рекомендуется использовать алгоритм Ed25519. В этом случае закрытый ключ хранится на вашем ПК, а открытый добавляется на сервер в файл .ssh/authorized_keys в директории нужного юзера.* 
* PermitEmptyPasswords no
PasswordAuthentication no
Отключение авторизации по паролю — каким бы он не был надежным, всегда есть вероятность его подбора. Важно убедиться, что подключение по SSH-ключам работает, иначе подключиться к серверу без VNC или rescue вы не сможете.
* AllowUsers Vasya
Разрешаем доступ по SSH только определенным юзерам. Чтобы они имели возможность получить доступ к привилегиям суперпользователя, необходимо внести их в файл /etc/sudoers или добавить юзера в группу sudo. 
* SSH использует шифрование. В настоящее время из-за своей небезопасности протоколы Telnet  и Rlogin считаются устаревшими и вместо них используется протокол SSH. С помощью Wireshark можно перехватывать пакеты с данными пользователей без шифрования.
***
[Manual по SSH](https://docs.microsoft.com/ru-ru/azure/virtual-machines/linux/create-ssh-keys-detailed)

[Скриншоты](/m5/task5.3/screenshots.pdf)






